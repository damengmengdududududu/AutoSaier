# AutoSaier
自己瞎写的基于赛尔号怀旧服的一个自动刷学习力或者道具的脚本（不好用）。
  
主要功能是在游戏窗口中自动识别技能、确认按钮、对战精灵、逃跑按钮，并进行自动点击操作，实现自动刷学习力或者精灵材料，可以指定精灵对战，遇到尼尔等非指定精灵会逃跑防止学习力刷错。
实现原理是模板匹配和OCR。
本项目仅供学习与个人研究使用，请勿用于商业或违反游戏规则的场景。

## ✨ 使用流程

- **1.启动程序**：执行code中的findClick.py打开UI。  
- **2.窗口选择**：选择要识别的目标游戏窗口。  
- **3.识别范围框选**：手动把半透明的框选窗口拖动到覆盖游戏窗口中会框选的部分依次手动框选「技能名称」「确认按钮」「对战精灵」「逃跑」会出现的四个区域。  
- **4.启动**：输入要使用的技能，选择要对战的精灵，设置匹配置信度（推荐为0.6），点击启动按钮开始运行。  

---

## 📦 注意事项

**文件结构**
```bash
project_root/
│── findClick.py              # 主程序
│── dict.txt             # 精灵配置字典文件，每行格式: 对战精灵:模板文件夹名:显示名称
│── photo/               # 精灵模板图片目录
│     ├── monster1/
│     │    ├── 1.png
│     │    ├── 2.png
│     ├── monster2/
│     │    ├── 1.png
│     │    └── ...
└── README.md            # 项目说明文档

```
**环境依赖**
请确保已安装 Python 3.8+。依赖库可通过 pip 安装：
```bash
pip install opencv-python numpy pyautogui pygetwindow mss paddleocr PyQt5
```
**框选与点击**

目前没用模拟点击，启动时光标会移动，且游戏窗口必须在屏幕最上层不被遮挡。
启动后游戏窗口不能移动，因为识别范围记录的是屏幕的绝对位置不是窗口的相对位置。
想要移动或者缩放窗口，需要停止脚本，移动或缩放后重新框选识别范围再启动。

**拓展**

目前选择精灵的种类只有几个，使用时可以自行拓展
```bash
皮皮:pipi:皮皮（刷空气结晶，攻击力+1）
```
拓展时先在dict.txt中加入一行如上格式的的信息，每行格式: 对战精灵:模板文件夹名:选项显示名称，保存后对战精灵的下拉选择框就会多这个选项。
此后要在photo中新建一个文件夹，名称为加到dict.txt的那条数据的第二部分，打开游戏窗口截取多张想要拓展的精灵的图片（最好是在日常识别的分辨率下进行截图，周围环境越少越好，要有各种不同角度和在不同颜色背景下的图片，角度和背景越全识别越准，目前六个不同角度的都截上识别速度就不算慢了）截图名称没有要求，但文件夹名称必须对上txt文件的内容。之后就可以尝试自动战斗了，不行的话优化一下截图模板。
